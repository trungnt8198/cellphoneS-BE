<body>
  <div class="app-container">
    <!-- Main Content -->
    <main class="content-wrapper">
      <div class="content-header">
        <h1>Edit Room</h1>
        <a href="/admin/rooms" class="btn btn-secondary" id="backButton">
          <i class="fas fa-arrow-left"></i> Back
        </a>
      </div>

      <!-- Success Message -->
      <div
        id="successMessage"
        class="message message-success"
        style="display: none"
      >
        <i class="fas fa-check-circle"></i>
        <span data-message-text>Room has been updated successfully.</span>
      </div>

      <!-- Edit Form for Products -->
      <form id="productForm" class="card">
        <div class="card-header">
          <h3>Room Information</h3>
        </div>
        <div class="card-body">
          <div class="form-section">
            <h3>Basic Information</h3>
            <div class="form-group">
              <label for="productName">Room Name*</label>
              <input
                type="text"
                id="productName"
                name="productName"
                class="form-control"
                required
                value="Wireless Headphones"
              />
              <span class="error-text" id="productNameError"></span>
            </div>

            <div class="form-row">
              <div class="form-group">
                <label for="productSKU">SKU*</label>
                <input
                  type="text"
                  id="productSKU"
                  name="productSKU"
                  class="form-control"
                  required
                  value="P100125"
                />
                <span class="error-text" id="productSKUError"></span>
              </div>

              <div class="form-group">
                <label for="productCategory">Category*</label>
                <select
                  id="productCategory"
                  name="productCategory"
                  class="form-control"
                  required
                >
                  <option value="">Select Category</option>
                  <option value="electronics" selected>Electronics</option>
                  <option value="clothing">Clothing</option>
                  <option value="food">Food</option>
                  <option value="books">Books</option>
                </select>
                <span class="error-text" id="productCategoryError"></span>
              </div>
            </div>

            <div class="form-row">
              <div class="form-group">
                <label for="productPrice">Price*</label>
                <input
                  type="number"
                  id="productPrice"
                  name="productPrice"
                  class="form-control"
                  step="0.01"
                  min="0"
                  required
                  value="199.99"
                />
                <span class="error-text" id="productPriceError"></span>
              </div>

              <div class="form-group">
                <label for="productStock">Stock*</label>
                <input
                  type="number"
                  id="productStock"
                  name="productStock"
                  class="form-control"
                  step="1"
                  min="0"
                  required
                  value="75"
                />
                <span class="error-text" id="productStockError"></span>
              </div>

              <div class="form-group">
                <label for="productStatus">Status*</label>
                <select
                  id="productStatus"
                  name="productStatus"
                  class="form-control"
                  required
                >
                  <option value="">Select Status</option>
                  <option value="active" selected>Active</option>
                  <option value="inactive">Inactive</option>
                  <option value="low">Low Stock</option>
                </select>
                <span class="error-text" id="productStatusError"></span>
              </div>
            </div>
          </div>

          <div class="form-section">
            <h3>Room Details</h3>
            <div class="form-group">
              <label for="productDescription">Description</label>
              <textarea
                id="productDescription"
                name="productDescription"
                class="form-control"
                rows="4"
              >
High-quality wireless headphones with noise cancellation and long battery life.</textarea
              >
              <span class="error-text" id="productDescriptionError"></span>
            </div>

            <div class="form-group">
              <label for="productTags">Tags (comma separated)</label>
              <input
                type="text"
                id="productTags"
                name="productTags"
                class="form-control"
                value="electronics, audio, wireless"
              />
              <span class="error-text" id="productTagsError"></span>
            </div>
          </div>

          <div class="form-section">
            <h3>Room Image</h3>
            <div class="media-upload" id="productImageUpload">
              <input
                type="file"
                id="productImage"
                name="productImage"
                accept="image/*"
              />
              <div class="upload-content" style="display: none">
                <div class="upload-icon">
                  <i class="fas fa-cloud-upload-alt"></i>
                </div>
                <div class="upload-text">
                  Drag & drop image or click to browse
                </div>
              </div>
              <img
                src="https://via.placeholder.com/300"
                id="productImagePreview"
                class="media-preview"
                style="display: block"
              />
            </div>
            <span class="error-text" id="productImageError"></span>
          </div>

          <div class="form-buttons">
            <button type="button" class="btn btn-secondary" id="cancelBtn">
              Cancel
            </button>
            <button type="submit" class="btn btn-primary">
              <i class="fas fa-save"></i> Save Changes
            </button>
          </div>
        </div>
      </form>
    </main>
  </div>

  <script src="/assets/js/common.js"></script>

  <script>
    document.addEventListener("DOMContentLoaded", function () {
      // Initialize form validation
      initFormValidation("productForm");

      // Setup file upload
      setupFileUpload(
        "productImage",
        "productImagePreview",
        "productImageUpload"
      );

      // Handle form submission
      document
        .getElementById("productForm")
        .addEventListener("submit", function (event) {
          event.preventDefault();

          if (validateForm("productForm")) {
            // Show success message
            showMessage(
              "successMessage",
              "Room has been updated successfully.",
              3000
            );

            // Redirect after a delay - would typically include the ID from the URL
            setTimeout(() => {
              window.location.href = "product-detail.html?id=1";
            }, 2000);
          }
        });

      // Handle cancel button
      document
        .getElementById("cancelBtn")
        .addEventListener("click", function () {
          window.location.href = "product-detail.html?id=1";
        });
    });
  </script>
</body>
